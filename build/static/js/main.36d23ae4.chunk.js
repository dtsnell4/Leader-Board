(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/pga_logo.dc72d69f.png"},38:function(e,t,a){e.exports=a(63)},43:function(e,t,a){},60:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(11),c=a.n(r),o=(a(43),a(14)),i=a(15),s=a(20),d=a(16),m=a(19),u=a(36),f=a(8),p=a(24),h=a.n(p),E=a(66),g=a(65),y=a(71),b=a(67),N=a(68),v=a(69),O=a(70),j=a(10),S=function(e){var t=e.players,a=e.handleDelete,n=e.handleEdit;return t.map(function(e){return l.a.createElement("tr",{key:e.name},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.score),l.a.createElement("td",{className:"text-right"},l.a.createElement(g.a,{onClick:function(){n(e.name)},color:"link",className:"edit mr-3"},l.a.createElement("i",{className:"fa fa-edit text-primary"})),l.a.createElement(g.a,{onClick:function(){a(e.name)},color:"link",className:"delete mr-3"},l.a.createElement("i",{className:"fa fa-trash text-danger"}))))})},k=a(35),w=a.n(k),A=function(e){var t=e.toggleModal,a=e.modalOpen,n=e.handleAdd,r=e.handleValidate,c=e.handleDelete,o=e.handleEdit,i=e.players,s=e.loadingPlayers,d=e.editing;return l.a.createElement("div",null,l.a.createElement("header",{className:"py-4"},l.a.createElement("div",{className:"container"},l.a.createElement("img",{src:w.a,alt:"PGA Logo",className:"float-left mr-3",width:"50",height:"50"}),l.a.createElement("h3",{className:"text-white"}," PGA Leader Board"))),l.a.createElement("div",{className:"container",id:"main-wrapper"},l.a.createElement("div",{id:"board",className:"mt-4"},l.a.createElement("div",{className:"table-scroller"},l.a.createElement(E.a,{striped:!0,className:"table-fixed"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Score"),l.a.createElement("th",null," "))),l.a.createElement("tbody",null,i.length>0&&l.a.createElement(S,{players:i,handleDelete:c,handleEdit:o}),!(i.length>0)&&s&&l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"3"},"Checking for saved players... ",l.a.createElement("i",{className:"fa fa-spinner fa-spin"}))),!(i.length>0)&&!s&&l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"3"},'The are no players currently on the board.  Click "Add Players" below to begin.'))))),l.a.createElement("div",{className:"text-center"},l.a.createElement(g.a,{color:"primary",onClick:t},"Add Players"),l.a.createElement(y.a,{isOpen:a,toggle:t,className:"add-player-modal"},l.a.createElement(j.d,{initialValues:{firstName:d?d.name.split(", ")[1]:"",lastName:d?d.name.split(", ")[0]:"",score:d?d.score:""},validate:function(e){return r(e)},onSubmit:function(e,t){var a=t.setSubmitting,l=t.resetForm;n(e,a,l)}},function(e){var a=e.isSubmitting;return l.a.createElement(j.c,null,l.a.createElement(b.a,{toggle:t},d?"Update Score":"Add Players"),l.a.createElement(N.a,null,l.a.createElement(v.a,null,l.a.createElement(j.b,{className:"form-control",type:"text",name:"firstName",id:"firstName",disabled:d,placeholder:"First Name"}),l.a.createElement(j.a,{name:"firstName"},function(e){return l.a.createElement("div",{className:"invalid-input"},e)})),l.a.createElement(v.a,null,l.a.createElement(j.b,{className:"form-control",type:"text",name:"lastName",id:"lastName",disabled:d,placeholder:"Last Name"}),l.a.createElement(j.a,{name:"lastName"},function(e){return l.a.createElement("div",{className:"invalid-input"},e)})),l.a.createElement(v.a,null,l.a.createElement(j.b,{className:"form-control",type:"number",name:"score",id:"score",placeholder:"Score"}),l.a.createElement(j.a,{name:"score"},function(e){return l.a.createElement("div",{className:"invalid-input"},e)}))),l.a.createElement(O.a,{className:"justify-content-center"},l.a.createElement(g.a,{color:"secondary",onClick:t},"Cancel")," ",l.a.createElement(g.a,{color:"primary",type:"submit",disabled:a},d?"Update":"Add")))}))))))},C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).toggleModal=function(){a.setState(function(e){return{modalOpen:!e.modalOpen}})},a.saveToLocalStorage=function(e){var t=Object(f.a)(Object(f.a)(a));h.a.setItem("players",t.state).then(function(e){console.log("Players successfully saved")}).catch(function(e){alert("Error saving players to localStorage:",e)})},a.compareObjects=function(){return function(e,t){var a=0;return e.score>t.score?a=1:e.score<t.score?a=-1:e.score===t.score&&(e.name.toUpperCase()>t.name.toUpperCase()?a=1:e.name.toUpperCase()<t.name.toUpperCase()&&(a=-1)),a}},a.handleValidate=function(e){var t={};return e.firstName||(t.firstName="First Name is Required"),e.lastName||(t.lastName="Last Name is Required"),e.score||(t.score="Score is Required"),t},a.handleAdd=function(e,t,n){var l="".concat(e.lastName,", ").concat(e.firstName),r=e.score;if(a.state.editing){var c=a.state.players,o=c.find(function(e){return e.name===l});return o&&(o.score=r),c.sort(a.compareObjects()),void a.setState(function(e){return{editing:!1,players:c}},function(){this.saveToLocalStorage(),this.setState({modalOpen:!1}),t(!1),n()})}var i={name:l,score:e.score},s=[].concat(Object(u.a)(a.state.players),[i]);s.sort(a.compareObjects()),a.setState(function(e){return{players:s}},function(){this.saveToLocalStorage(),t(!1),n()})},a.handleDelete=function(e){if(!0===window.confirm("Are you sure you want to remove this player from the leader board?")){var t=a.state.players.filter(function(t){return t.name!==e});a.setState(function(e){return{players:t}},function(){this.saveToLocalStorage()})}},a.handleEdit=function(e,t,n){var l=a.state.players.filter(function(t){return t.name===e});a.setState(function(e){return{editing:l[0]}},function(){this.toggleModal()})},a.state={players:[],modalOpen:!1,loadingPlayers:!1,editing:!1},a.handleAdd=a.handleAdd.bind(Object(f.a)(Object(f.a)(a))),a.handleDelete=a.handleDelete.bind(Object(f.a)(Object(f.a)(a))),a.handleValidate=a.handleValidate.bind(Object(f.a)(Object(f.a)(a))),a.toggleModal=a.toggleModal.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.setState(function(e){return{loadingPlayers:!0}});var e=this;h.a.getItem("players").then(function(t){t?e.setState(function(e){return{players:t.players?t.players:[]}},function(){e.setState(function(e){return{loadingPlayers:!1}})}):e.setState(function(e){return{loadingPlayers:!1}})}).catch(function(e){console.log("Error getting players from localStorage:",e)})}},{key:"render",value:function(){return l.a.createElement(A,{players:this.state.players,loadingPlayers:this.state.loadingPlayers,handleAdd:this.handleAdd,handleValidate:this.handleValidate,handleDelete:this.handleDelete,handleEdit:this.handleEdit,modalOpen:this.state.modalOpen,toggleModal:this.toggleModal,editing:this.state.editing})}}]),t}(l.a.Component),P=(a(58),a(60),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(C,null))}}]),t}(n.Component));c.a.render(l.a.createElement(P,null),document.getElementById("root"))}},[[38,2,1]]]);
//# sourceMappingURL=main.36d23ae4.chunk.js.map